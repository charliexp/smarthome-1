[2018-08-29 09:42:20]main.c(1235)-timefun(): alarm 940
[2018-08-29 09:42:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 09:42:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 09:42:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 09:42:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 09:42:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 09:42:20]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 09:42:20]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 09:42:20]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 09:42:20]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 09:42:20]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 09:42:20]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 09:42:21]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 09:42:21]main.c(721)-uartlisten(): pthread uartlisten begin
[2018-08-29 09:42:21]main.c(887)-mqttqueueprocess(): enter mqttqueueprocess pthread!
[2018-08-29 09:42:21]main.c(564)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 09:42:21]main.c(523)-uartsend(): Enter pthread uartsend
[2018-08-29 09:43:20]main.c(1235)-timefun(): alarm 880
[2018-08-29 09:43:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 09:43:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 09:43:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 09:43:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 09:43:20]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 09:43:20]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 09:43:20]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 09:43:20]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 09:43:20]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 09:43:20]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 09:43:20]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 09:43:21]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 09:43:21]main.c(721)-uartlisten(): pthread uartlisten begin
[2018-08-29 09:43:21]main.c(564)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 09:43:21]main.c(523)-uartsend(): Enter pthread uartsend
[2018-08-29 09:43:21]main.c(531)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 09:43:21]main.c(531)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 09:43:21]main.c(240)-onConnect(): Successful connection
[2018-08-29 09:58:00]main.c(1193)-sigalrm_fn(): alarm!

[2018-08-29 09:58:00]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:
10(16) 15(21) 
[2018-08-29 09:58:00]device/device.c(130)-sendzgbmsg(): The sum is 2694
[2018-08-29 09:58:00]main.c(531)-uartsend(): uart begin to send msg!
2A(42) 2C(44) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  9(9) AA(170)  2(2) 10(16)  5(5)  1(1)  0(0)  1(1) 10(16) 15(21)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 86(134) 23(35) 
[2018-08-29 09:58:00]main.c(1207)-sigalrm_fn(): alarm 3600
[2018-08-29 10:04:42]main.c(1171)-timefun(): alarm 3198
[2018-08-29 10:04:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:04:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:04:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:04:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:04:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:04:42]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:04:42]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:04:42]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:04:42]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:04:42]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:04:42]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:04:42]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:04:42]main.c(853)-mqttqueueprocess(): enter mqttqueueprocess pthread!
[2018-08-29 10:04:42]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:04:42]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:09:17]main.c(1174)-timefun(): alarm 2923
[2018-08-29 10:09:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:09:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:09:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:09:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:09:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:09:17]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:09:17]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:09:17]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:09:17]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:09:17]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:09:17]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:09:18]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:09:18]main.c(853)-mqttqueueprocess(): Enter mqttqueueprocess pthread!
[2018-08-29 10:09:18]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:09:18]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:09:18]main.c(519)-uartsend(): Enter pthread uartsend
[2018-08-29 10:09:18]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:09:18]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:09:18]main.c(240)-onConnect(): Successful connection
[2018-08-29 10:09:20]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:09:20]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:11:05]main.c(1174)-timefun(): alarm 2815
[2018-08-29 10:11:05]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:11:05]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:11:05]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:11:05]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:11:05]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:11:05]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:05]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:05]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:05]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:11:05]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:11:05]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:11:06]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:11:06]main.c(853)-mqttqueueprocess(): Enter mqttqueueprocess pthread!
[2018-08-29 10:11:06]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:11:06]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:11:06]main.c(519)-uartsend(): Enter pthread uartsend
[2018-08-29 10:11:06]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:11:06]main.c(240)-onConnect(): Successful connection
[2018-08-29 10:11:08]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:11:08]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:11:09]main.c(1174)-timefun(): alarm 2811
[2018-08-29 10:11:09]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:11:09]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:11:09]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:11:09]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:11:09]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:11:09]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:09]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:09]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:09]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:11:09]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:11:09]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:11:10]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:11:10]main.c(853)-mqttqueueprocess(): Enter mqttqueueprocess pthread!
[2018-08-29 10:11:10]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:11:10]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:11:10]main.c(519)-uartsend(): Enter pthread uartsend
[2018-08-29 10:11:10]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:11:10]main.c(240)-onConnect(): Successful connection
[2018-08-29 10:11:12]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:11:12]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:11:13]main.c(1174)-timefun(): alarm 2807
[2018-08-29 10:11:13]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:11:13]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:11:13]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:11:13]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:11:13]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:11:13]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:13]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:13]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:13]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:11:13]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:11:13]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:11:13]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:11:13]main.c(853)-mqttqueueprocess(): Enter mqttqueueprocess pthread!
[2018-08-29 10:11:13]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:11:13]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:11:13]main.c(519)-uartsend(): Enter pthread uartsend
[2018-08-29 10:11:13]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:11:14]main.c(240)-onConnect(): Successful connection
[2018-08-29 10:11:15]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:11:15]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:11:17]main.c(1174)-timefun(): alarm 2803
[2018-08-29 10:11:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:11:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:11:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:11:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:11:17]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:11:17]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:17]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:17]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:11:17]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:11:17]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:11:17]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:11:18]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:11:18]main.c(853)-mqttqueueprocess(): Enter mqttqueueprocess pthread!
[2018-08-29 10:11:18]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:11:18]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:11:18]main.c(519)-uartsend(): Enter pthread uartsend
[2018-08-29 10:11:18]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:11:18]main.c(240)-onConnect(): Successful connection
[2018-08-29 10:11:20]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:11:46]main.c(123)-msgarrvd(): Message arrived
[2018-08-29 10:11:46]main.c(124)-msgarrvd(): Topic: /00:0c:43:e1:76:28/devices/operation
[2018-08-29 10:11:46]main.c(125)-msgarrvd(): Message:{"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:11:46]main.c(128)-msgarrvd(): message: {
	"mqttid":	"12345",
	"user":	"todlee",
	"operation":	0,
	"cmdid":	2
}
[2018-08-29 10:11:46]main.c(150)-msgarrvd(): get an operation msg.

[2018-08-29 10:11:46]main.c(352)-devicemsgprocess(): devicemsgprocess recive a msg
[2018-08-29 10:11:46]main.c(353)-devicemsgprocess(): the msg is {"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:11:46]main.c(385)-devicemsgprocess(): COO operation AT+FORM=02
[2018-08-29 10:11:48]main.c(388)-devicemsgprocess(): COO operation AT+PERMITJOIN=60
[2018-08-29 10:11:48]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:11:48]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:11:48]main.c(1231)-testfun(): The mqtt msg is {"deviceid":"00FA2DC1DF1","devicetype":1}
[2018-08-29 10:11:48]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:11:48]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:11:48]main.c(123)-msgarrvd(): Message arrived
[2018-08-29 10:11:48]main.c(124)-msgarrvd(): Topic: /00:0c:43:e1:76:28/devices/add
[2018-08-29 10:11:48]main.c(125)-msgarrvd(): Message:{"deviceid":"00FA2DC1DF1","devicetype":1}:0,"cmdˆˆˆˆ2}
[2018-08-29 10:11:48]main.c(128)-msgarrvd(): message: {
	"deviceid":	"00FA2DC1DF1",
	"devicetype":	1
}
[2018-08-29 10:15:42]main.c(1174)-timefun(): alarm 2538
[2018-08-29 10:15:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:15:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:15:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:15:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:15:42]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:15:42]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:15:42]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:15:42]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:15:42]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:15:42]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:15:42]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:15:43]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:15:43]main.c(853)-mqttqueueprocess(): Enter mqttqueueprocess pthread!
[2018-08-29 10:15:43]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:15:43]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:15:43]main.c(519)-uartsend(): Enter pthread uartsend
[2018-08-29 10:15:43]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:15:43]main.c(240)-onConnect(): Successful connection
[2018-08-29 10:15:45]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:15:49]main.c(123)-msgarrvd(): Message arrived
[2018-08-29 10:15:49]main.c(124)-msgarrvd(): Topic: /00:0c:43:e1:76:28/devices/operation
[2018-08-29 10:15:49]main.c(125)-msgarrvd(): Message:{"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:15:49]main.c(128)-msgarrvd(): message: {
	"mqttid":	"12345",
	"user":	"todlee",
	"operation":	0,
	"cmdid":	2
}
[2018-08-29 10:15:49]main.c(150)-msgarrvd(): get an operation msg.

[2018-08-29 10:15:49]main.c(352)-devicemsgprocess(): devicemsgprocess recive a msg
[2018-08-29 10:15:49]main.c(353)-devicemsgprocess(): the msg is {"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:15:49]main.c(385)-devicemsgprocess(): COO operation AT+FORM=02
[2018-08-29 10:15:51]main.c(388)-devicemsgprocess(): COO operation AT+PERMITJOIN=60
[2018-08-29 10:15:51]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:15:51]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:15:51]main.c(1231)-testfun(): The mqtt msg is {"deviceid":"00FA2DC1DF1","devicetype":1}
[2018-08-29 10:15:51]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:15:51]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:15:51]main.c(123)-msgarrvd(): Message arrived
[2018-08-29 10:15:51]main.c(124)-msgarrvd(): Topic: /00:0c:43:e1:76:28/devices/add
[2018-08-29 10:15:51]main.c(125)-msgarrvd(): Message:{"deviceid":"00FA2DC1DF1","devicetype":1}:0,"cmdˆˆˆˆ2}
[2018-08-29 10:15:51]main.c(128)-msgarrvd(): message: {
	"deviceid":	"00FA2DC1DF1",
	"devicetype":	1
}
[2018-08-29 10:17:24]main.c(1174)-timefun(): alarm 2436
[2018-08-29 10:17:24]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:17:24]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:17:24]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:17:24]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:17:24]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:17:24]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:17:24]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:17:24]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:17:24]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:17:24]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:17:24]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:17:25]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:17:25]main.c(853)-mqttqueueprocess(): Enter mqttqueueprocess pthread!
[2018-08-29 10:17:25]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:17:25]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:17:25]main.c(519)-uartsend(): Enter pthread uartsend
[2018-08-29 10:17:25]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:17:25]main.c(240)-onConnect(): Successful connection
[2018-08-29 10:17:27]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:17:33]main.c(123)-msgarrvd(): Message arrived
[2018-08-29 10:17:33]main.c(124)-msgarrvd(): Topic: /00:0c:43:e1:76:28/devices/operation
[2018-08-29 10:17:33]main.c(125)-msgarrvd(): Message:{"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:17:33]main.c(128)-msgarrvd(): message: {
	"mqttid":	"12345",
	"user":	"todlee",
	"operation":	0,
	"cmdid":	2
}
[2018-08-29 10:17:33]main.c(150)-msgarrvd(): get an operation msg.

[2018-08-29 10:17:33]main.c(352)-devicemsgprocess(): devicemsgprocess recive a msg
[2018-08-29 10:17:33]main.c(353)-devicemsgprocess(): the msg is {"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:17:33]main.c(385)-devicemsgprocess(): COO operation AT+FORM=02
[2018-08-29 10:17:35]main.c(388)-devicemsgprocess(): COO operation AT+PERMITJOIN=60
[2018-08-29 10:17:35]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:17:35]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:28:03]main.c(1174)-timefun(): alarm 1797
[2018-08-29 10:28:04]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:28:04]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:28:04]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:28:04]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:28:04]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:28:04]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:28:04]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:28:04]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:28:04]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:28:04]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:28:04]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:28:04]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:28:04]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:28:04]main.c(853)-mqttqueueprocess(): Enter mqttqueueprocess pthread!
[2018-08-29 10:28:04]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:28:04]main.c(519)-uartsend(): Enter pthread uartsend
[2018-08-29 10:28:04]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:28:04]main.c(240)-onConnect(): Successful connection
[2018-08-29 10:28:06]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:28:15]main.c(123)-msgarrvd(): Message arrived
[2018-08-29 10:28:15]main.c(124)-msgarrvd(): Topic: /00:0c:43:e1:76:28/devices/operation
[2018-08-29 10:28:15]main.c(125)-msgarrvd(): Message:{"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:28:15]main.c(128)-msgarrvd(): message: {
	"mqttid":	"12345",
	"user":	"todlee",
	"operation":	0,
	"cmdid":	2
}
[2018-08-29 10:28:15]main.c(150)-msgarrvd(): get an operation msg.

[2018-08-29 10:28:15]main.c(352)-devicemsgprocess(): devicemsgprocess recive a msg
[2018-08-29 10:28:15]main.c(353)-devicemsgprocess(): the msg is {"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:28:15]main.c(385)-devicemsgprocess(): COO operation AT+FORM=02
[2018-08-29 10:28:17]main.c(388)-devicemsgprocess(): COO operation AT+PERMITJOIN=60
[2018-08-29 10:28:17]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:28:17]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:29:43]main.c(1174)-timefun(): alarm 1697
[2018-08-29 10:29:43]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE devices (deviceid TEXT, zgbaddress TEXT, devicetype CHAR(1), deviceindex CHAR(1), online CHAR(1), primary key(deviceid));
[2018-08-29 10:29:43]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_day]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[day] INT NOT NULL, primary key(deviceid, day));
[2018-08-29 10:29:43]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_month]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[month] INT NOT NULL, primary key(deviceid, month));
[2018-08-29 10:29:43]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_year]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[year] INT NOT NULL, primary key(deviceid, year));
[2018-08-29 10:29:43]utils/utils.c(455)-exec_sql_create(): The sql is CREATE TABLE [electricity_hour]([deviceid] TEXT NOT NULL,[electricity] INT NOT NULL,[hour] INT NOT NULL, primary key(deviceid, hour));
[2018-08-29 10:29:43]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:29:43]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:29:43]device/device.c(178)-devices_status_json_init(): The device_status is {"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}
[2018-08-29 10:29:43]device/device.c(181)-devices_status_json_init(): The g_device_status is [{"deviceid":"B2FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B3FCDEFEFF570B000","status":[{"type":3,"value":null}]},{"deviceid":"B4FCDEFEFF570B000","status":[{"type":3,"value":null}]}]
[2018-08-29 10:29:43]device/device.c(106)-sendzgbmsg(): Send a zgbmsg!The data is:

[2018-08-29 10:29:43]device/device.c(130)-sendzgbmsg(): The sum is 2906
[2018-08-29 10:29:43]utils/utils.c(293)-gatewayregister(): Gateway register success!

[2018-08-29 10:29:43]main.c(853)-mqttqueueprocess(): Enter mqttqueueprocess pthread!
[2018-08-29 10:29:43]main.c(717)-uartlisten(): pthread uartlisten begin
[2018-08-29 10:29:43]main.c(560)-zgbmsgprocess(): Enter pthread zgbmsgprocess
[2018-08-29 10:29:43]main.c(519)-uartsend(): Enter pthread uartsend
[2018-08-29 10:29:43]main.c(527)-uartsend(): uart begin to send msg!
2A(42) 2A(42) 41(65) 88(136)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255) FF(255)  0(0)  0(0) 25(37)  0(0)  0(0)  0(0) A0(160)  F(15)  0(0)  0(0)  7(7) AA(170)  0(0) 10(16)  5(5) FF(255)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0)  0(0) 5A(90) 23(35) 
[2018-08-29 10:29:44]main.c(240)-onConnect(): Successful connection
[2018-08-29 10:29:45]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:29:54]main.c(123)-msgarrvd(): Message arrived
[2018-08-29 10:29:54]main.c(124)-msgarrvd(): Topic: /00:0c:43:e1:76:28/devices/operation
[2018-08-29 10:29:54]main.c(125)-msgarrvd(): Message:{"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:29:54]main.c(128)-msgarrvd(): message: {
	"mqttid":	"12345",
	"user":	"todlee",
	"operation":	0,
	"cmdid":	2
}
[2018-08-29 10:29:54]main.c(150)-msgarrvd(): get an operation msg.

[2018-08-29 10:29:54]main.c(352)-devicemsgprocess(): devicemsgprocess recive a msg
[2018-08-29 10:29:54]main.c(353)-devicemsgprocess(): the msg is {"mqttid":"12345","user":"todlee","operation":0,"cmdid":2}
[2018-08-29 10:29:54]main.c(385)-devicemsgprocess(): COO operation AT+FORM=02
[2018-08-29 10:29:56]main.c(388)-devicemsgprocess(): COO operation AT+PERMITJOIN=60
[2018-08-29 10:29:56]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:29:56]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:29:56]main.c(1231)-testfun(): The mqtt msg is {"deviceid":"00FA2DC1DF1","devicetype":1}
[2018-08-29 10:29:56]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:29:56]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:29:57]main.c(1238)-testfun(): The mqtt msg is {"deviceid":"00FA2DC1DF2","devicetype":1}
[2018-08-29 10:29:57]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:29:57]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:29:58]main.c(1245)-testfun(): The mqtt msg is {"deviceid":"00FA2DC1DF3","devicetype":1}
[2018-08-29 10:29:58]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:29:58]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:29:59]main.c(1252)-testfun(): The mqtt msg is {"deviceid":"00FA2DC1DF4","devicetype":1}
[2018-08-29 10:29:59]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:29:59]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:30:00]main.c(1259)-testfun(): The mqtt msg is {"deviceid":"00FA2DC1DF5","devicetype":2}
[2018-08-29 10:30:00]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:30:00]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:30:01]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:30:01]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:30:02]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:30:02]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:30:03]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:30:03]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:30:04]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:30:04]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
[2018-08-29 10:30:05]main.c(861)-mqttqueueprocess(): Enter mqttqueueprocess pthread!3
[2018-08-29 10:30:05]main.c(859)-mqttqueueprocess(): Enter mqttqueueprocess pthread!2
